<!doctype html>
<html lang="en">
  <head>
	  <meta charset="UTF-8">
  	<title>Project2</title>
	  <link rel="stylesheet" href="css/main.css">
  </head>
  <body onload="init()">
	  <div class="banner">
			<p>Title</p>
		</div>

		<div class="body_container">
			<div class="body_container_left_col">

        <div class="body_container_left_col_row_1">
          <p>Relative</p>
          <form onsubmit="return relative_send()" method="post" name="relative">
            X: <input type="text" name="x"><br>
            Y: <input type="text" name="y"><br>
            &nbsp&nbsp&nbsp<input type="submit" value="update">
          </form>
        </div>

        <div class="body_container_left_col_row_2">
          <p>Absolute</p>
        </div>

        <div class="body_container_left_col_row_3">
          <button class="log_button" type="button" onclick="get_log()">.log</button>
        </div>
			</div>
			<div class="body_container_right_col">
        <p id="current_display"></p>
		  </div>
		</div>

		<footer class="footer">
       <p>CS1980 Capstone <a href="https://cs.pitt.edu/">University of Pittsburgh</a></p>
    </footer>

    <script>

    //http://jsfiddle.net/CYMtV/
    //axii display ^^

      var socket;
      var x_current;
      var y_current;

      function init() {
        //handle initial axii conditions
        socket = new WebSocket("ws://localhost:9001")
        x_current = 0;
        y_current = 0;
        initial_string = "X: " + x_current + "\tY: " + y_current;
        document.getElementById("current_display").innerHTML = initial_string;
      }

      function relative_send() {
        var x = document.forms["relative"]["x"].value;
        var y = document.forms["relative"]["y"].value;
        if(isNaN(x) || isNaN(y)) {
          alert("Invalid Relative Changes");
          return false;
        }
        //send as a json object 'x' & 'y' tags
        socket.send(x);
      }

      function get_log() {
        //retreive log from server

      }

      //Socket Methods
      socket.onopen = function (event) {
        //acknowledge its been opened
      }

      socket.onmessage = function (event) {
        //handle receiving axii updates
        //receive as a json object 'x' & 'y' tags

        //parse x,y
        //update current var's
        //update string display
      }


    </script>
    <!--Need to add a POST method for sending form data. can use json?? not sure how to do this-->
  </body>
</html>
